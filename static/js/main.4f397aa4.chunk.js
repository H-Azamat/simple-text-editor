(this["webpackJsonpreact-text-editor"]=this["webpackJsonpreact-text-editor"]||[]).push([[0],{27:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),i=n(11),a=n.n(i),l=n(1),o=(n(27),n(7)),s=n(0),u=n(13),d=n(4),b=function(e){return console.log(e.leaf),Object(d.jsx)("span",Object(o.a)(Object(o.a)({},e.attributes),{},{style:{fontWeight:e.leaf.bold?"bold":"normal",fontStyle:e.leaf.italic?"italic":"normal",textDecoration:e.leaf.underline?"underline":e.leaf.strikethrough?"line-through":"none"},children:e.children}))},g=function(e){return Object(d.jsx)("pre",Object(o.a)(Object(o.a)({},e.attributes),{},{children:Object(d.jsx)("code",{children:e.children})}))},f=function(e){return Object(d.jsx)("p",Object(o.a)(Object(o.a)({},e.attributes),{},{children:e.children}))},j={isBoldMarkActive:function(e){var t=s.a.nodes(e,{match:function(e){return!0===e.bold},universal:!0});return!!Object(l.a)(t,1)[0]},isItalicMarkActive:function(e){var t=s.a.nodes(e,{match:function(e){return!0===e.italic},universal:!0});return!!Object(l.a)(t,1)[0]},isUnderlineMarkActive:function(e){var t=s.a.nodes(e,{match:function(e){return!0===e.underline},universal:!0});return!!Object(l.a)(t,1)[0]},isStrikethroughMarkActive:function(e){var t=s.a.nodes(e,{match:function(e){return!0===e.strikethrough},universal:!0});return!!Object(l.a)(t,1)[0]},isCodeBlockActive:function(e){var t=s.a.nodes(e,{match:function(e){return"code"===e.type}});return!!Object(l.a)(t,1)[0]},toggleBoldMark:function(e){var t=j.isBoldMarkActive(e);s.g.setNodes(e,{bold:!t||null},{match:function(e){return s.f.isText(e)},split:!0})},toggleCodeBlock:function(e){var t=j.isCodeBlockActive(e);s.g.setNodes(e,{type:t?null:"code"},{match:function(t){return s.a.isBlock(e,t)}})},toggleItalicMark:function(e){var t=j.isItalicMarkActive(e);s.g.setNodes(e,{italic:!t||null},{match:function(e){return s.f.isText(e)},split:!0})},toggleUnderlineMark:function(e){var t=j.isUnderlineMarkActive(e);s.g.setNodes(e,{underline:!t||null},{match:function(e){return s.f.isText(e)},split:!0})},toggleStrikethroughMark:function(e){var t=j.isStrikethroughMarkActive(e);s.g.setNodes(e,{strikethrough:!t||null},{match:function(e){return s.f.isText(e)},split:!0})}},h=function(e){var t=e.getEditor,n=JSON.parse(localStorage.getItem("content")),c=Object(r.useMemo)((function(){return Object(u.c)(Object(s.h)())}),[]),i=Object(r.useState)(n||[{type:"paragraph",children:[{text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"}]}]),a=Object(l.a)(i,2),h=a[0],k=a[1],v=Object(r.useCallback)((function(e){switch(e.element.type){case"code":return Object(d.jsx)(g,Object(o.a)({},e));default:return Object(d.jsx)(f,Object(o.a)({},e))}}),[]),O=Object(r.useCallback)((function(e){return Object(d.jsx)(b,Object(o.a)({},e))}),[]);return Object(r.useEffect)((function(){console.log(c),t(c)}),[]),Object(d.jsx)(u.b,{editor:c,value:h,onChange:function(e){var t=JSON.stringify(e);localStorage.setItem("content",t),k(e)},children:Object(d.jsx)(u.a,{renderElement:v,renderLeaf:O,onKeyDown:function(e){if(e.ctrlKey)switch(e.key){case"`":e.preventDefault(),j.toggleCodeBlock(c);break;case"b":e.preventDefault(),j.toggleBoldMark(c);break;case"i":e.preventDefault(),j.toggleItalicMark(c);break;case"u":e.preventDefault(),j.toggleUnderlineMark(c);break;case"k":e.preventDefault(),j.toggleStrikethroughMark(c)}}})})},k=n.p+"static/media/bold.d2bc3533.svg",v=n.p+"static/media/italic.4f288d37.svg",O=n.p+"static/media/code.60b542e5.svg",p=n.p+"static/media/strikethrough.ec1de9a8.svg",m=n.p+"static/media/underline.b204b55b.svg";var x=function(){var e=Object(r.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsxs)("div",{className:"styleText",children:[Object(d.jsx)("img",{src:k,alt:"bold",title:"Ctrl + B",onClick:function(e){e.preventDefault(),j.toggleBoldMark(n)}}),Object(d.jsx)("img",{src:v,alt:"italic",title:"Ctrl + I",onClick:function(e){e.preventDefault(),j.toggleItalicMark(n)}}),Object(d.jsx)("img",{src:m,alt:"underline",title:"Ctrl + U",onClick:function(e){e.preventDefault(),j.toggleUnderlineMark(n)}}),Object(d.jsx)("img",{src:p,alt:"strikeThrough",title:"Ctrl + K",onClick:function(e){e.preventDefault(),j.toggleStrikethroughMark(n)}}),Object(d.jsx)("img",{src:O,alt:"code",title:"Ctrl + `",onClick:function(e){e.preventDefault(),j.toggleCodeBlock(n)}})]}),Object(d.jsx)("div",{className:"text",children:Object(d.jsx)(h,{getEditor:function(e){return c(e)}})})]})})};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.4f397aa4.chunk.js.map